<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>MicroEnd Application</title>
    <meta name="description"
          content="Microend Base Application enables the installation of independent, modular applications that can communicate with one another and were created using any javascript framework."/>
    <meta name="keywords" content="MicroEnd, Modular, Micro-frontend"/>
    <meta name="author" content="a.arif.r@gmail.com"/>
    <meta name="copyright" content="a.arif.r@gmail.com"/>
    <meta name="theme-color" content="#f8f8f8"/>
    <link rel="icon"
          href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='500' zoomAndPan='magnify' viewBox='0 0 375 374.999991' height='500' preserveAspectRatio='xMidYMid meet' version='1.0'%3E%3Cdefs%3E%3CclipPath id='914761307b'%3E%3Cpath d='M 33 15 L 343.125 15 L 343.125 354 L 33 354 Z M 33 15 ' clip-rule='nonzero'/%3E%3C/clipPath%3E%3C/defs%3E%3Cg clip-path='url(%23914761307b)'%3E%3Cpath fill='%239f2d2d' d='M 64.996094 96.972656 L 145.175781 56.617188 C 145.175781 56.617188 171.277344 41.71875 177.1875 30.847656 C 177.1875 30.847656 199.253906 55.996094 163.824219 77.722656 L 72.460938 123.042969 C 72.460938 123.042969 46.972656 136.703125 50.707031 163.398438 C 50.707031 163.398438 9.683594 128.636719 64.996094 96.972656 Z M 50.707031 223 C 46.972656 196.308594 72.460938 182.648438 72.460938 182.648438 L 163.824219 137.328125 C 199.246094 115.597656 177.1875 90.453125 177.1875 90.453125 C 171.285156 101.3125 145.175781 116.21875 145.175781 116.21875 L 64.996094 156.566406 C 9.683594 188.234375 50.707031 223 50.707031 223 Z M 69.96875 244.730469 L 161.332031 199.414062 C 196.753906 177.683594 174.695312 152.539062 174.695312 152.539062 C 168.792969 163.398438 142.683594 178.304688 142.683594 178.304688 L 62.511719 218.652344 C 7.195312 250.316406 48.21875 285.082031 48.21875 285.082031 C 44.488281 258.386719 69.96875 244.730469 69.96875 244.730469 Z M 253.335938 90.804688 L 247.605469 192.539062 C 248.996094 234.042969 281.792969 227.316406 281.792969 227.316406 C 275.25 216.820312 275.1875 186.78125 275.1875 186.78125 L 279.714844 97.21875 C 279.507812 33.539062 228.972656 51.96875 228.972656 51.96875 C 254.042969 61.933594 253.335938 90.804688 253.335938 90.804688 Z M 199.890625 57.28125 L 194.160156 159.015625 C 195.550781 200.519531 228.34375 193.792969 228.34375 193.792969 C 221.804688 183.296875 221.742188 153.257812 221.742188 153.257812 L 226.265625 63.695312 C 226.058594 0.015625 175.527344 18.445312 175.527344 18.445312 C 200.597656 28.410156 199.890625 57.28125 199.890625 57.28125 Z M 305.546875 121.226562 L 299.816406 222.960938 C 301.207031 264.464844 334 257.738281 334 257.738281 C 327.457031 247.242188 327.398438 217.203125 327.398438 217.203125 L 331.921875 127.640625 C 331.714844 63.957031 281.183594 82.390625 281.183594 82.390625 C 306.25 92.351562 305.546875 121.226562 305.546875 121.226562 Z M 297.171875 264 L 212.066406 207.8125 C 175.472656 188.117188 164.769531 219.792969 164.769531 219.792969 C 177.144531 219.441406 203.148438 234.511719 203.148438 234.511719 L 278.332031 283.53125 C 333.515625 315.429688 343.023438 262.535156 343.023438 262.535156 C 321.785156 279.160156 297.171875 264 297.171875 264 Z M 241.230469 293.796875 L 156.125 237.609375 C 119.53125 217.914062 108.832031 249.59375 108.832031 249.59375 C 121.207031 249.238281 147.210938 264.3125 147.210938 264.3125 L 222.390625 313.324219 C 277.578125 345.222656 287.085938 292.324219 287.085938 292.324219 C 265.84375 308.960938 241.230469 293.796875 241.230469 293.796875 Z M 189.023438 323.597656 L 103.917969 267.410156 C 67.324219 247.710938 56.621094 279.390625 56.621094 279.390625 C 69 279.039062 95.003906 294.109375 95.003906 294.109375 L 170.183594 343.121094 C 225.367188 375.019531 234.878906 322.125 234.878906 322.125 C 213.636719 338.757812 189.023438 323.597656 189.023438 323.597656 Z M 189.023438 323.597656 ' fill-opacity='1' fill-rule='nonzero'/%3E%3C/g%3E%3C/svg%3E"
          type="image/svg+xml"/>
    <link rel="manifest" href="/manifest.json"/>
    <style>
        html {
            margin: 0;
            padding: 0;
            height: 100%;
            display: flex;
            flex-direction: column;
            overflow: auto;
            font-family: Inter, system-ui, Avenir, Helvetica, Arial, sans-serif;
            font-weight: 400;
            background: radial-gradient(#ffffff 0%, #f2f2f2 100%);
            font-synthesis: none;
            text-rendering: optimizeLegibility;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            -webkit-text-size-adjust: 100%;
        }

        body {
            margin: 0;
            padding: 0;
            height: 100%;
            display: flex;
            flex-direction: column;
            background: rgb(253, 251, 251);
            background: radial-gradient(#FFFFFF 50%, #f2f2f2 100%);
            position: relative;
        }

        iframe {
            min-height: 0;
            min-width: 0;
            padding: 0;
            margin: 0;
            display: flex;
            flex-direction: column;
            border: none;
            box-sizing: border-box;
        }

        article {
            max-width: 600px;
            font-width: normal;
            width: 100%;
            padding: 20px 20px 20px 20px;
            margin: auto;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
        }

        .banner {
            background: linear-gradient(#C03535 0%, #9F2D2D 100%);
            color: white;
        }

        .banner-title {
            display: flex;
            align-items: center;
        }

        p {
            line-height: 1.8;
        }

        code {
            font-weight: bold;
            background-color: #f2f2f2;
            padding: 0 2px;
        }
        h1{
            font-size: 40px;
            padding: 0;
            margin: 0;
            font-weight: lighter;
        }
    </style>
  <script type="module" crossorigin>
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))t(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&t(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function t(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function h(o,e,n){return e in o?Object.defineProperty(o,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):o[e]=n,o}function x(o){return new Promise(e=>{const n=indexedDB.open(W,1);n.addEventListener("upgradeneeded",()=>{n.result.createObjectStore(F,{keyPath:"name"})}),n.addEventListener("success",()=>{const t=n.result,i=t.transaction([F],o),r=i.objectStore(F);e({db:t,tx:i,store:r})})})}function O(o,...e){return new Promise(n=>{const t=document.createElement("div");t.style.position="fixed",t.style.top="0px",t.style.left="0px",t.style.width="100%",t.style.height="100%",t.style.background="rgba(0,0,0,0.1)",t.style.display="flex",t.style.flexDirection="column",t.style.alignItems="center",t.style.justifyContent="center",t.style.backdropFilter="blur(3px)",t.style["-webkit-backdrop-filter"]="blur(3px)",t.innerHTML=`<div style="background-color: rgba(255,255,255,0.9);border: 1px solid rgba(0,0,0,0.1);backdrop-filter: blur(3px);-webkit-backdrop-filter: blur(3px);padding: 10px;border-radius: 10px;display: flex;flex-direction: column">
    <div style="font-size: 14px">${o}</div>
    <div style="display: flex;flex-direction: row;justify-content: flex-end;margin-top: 10px">
        ${e.map(i=>`<button style="background-color: #f2f2f2;padding:5px 10px;border: 1px solid rgba(0,0,0,0.1);margin-right: 5px" data-button-select="${i}" >${i}</button>`).join("")}
        
    </div>
</div>`,document.body.appendChild(t),document.querySelectorAll("[data-button-select]").forEach(i=>{i.addEventListener("click",r=>{const s=r.target.getAttribute("data-button-select");n(s),t.remove()})})})}async function B(){const{db:o,tx:e,store:n}=await x("readonly"),t=n.getAll(),i=await M(t);return i===!1?(o.close(),[]):i.filter(r=>!r.deleted)}async function R(o){const{db:e,store:n}=await x("readonly"),t=n.get(o),i=await M(t);return e.close(),i}async function I(o,e){const n=e.concat(o);return o.reduce((t,i)=>{const r=i.dependencies.reduce((s,d)=>(n.findIndex(u=>{const[m,l]=d.split("@");return u.path===m&&u.version>=l})<0&&s.push(d),s),[]);return i.missingDependencies=r,r.length>0&&(i.active=!1),t.concat(r)},[])}async function S(o,e){return o.reduce((n,t)=>{const i=e.filter(r=>r.path===t.path&&t.version>r.version).map(r=>({from:r.name,to:t.name}));return n.concat(i)},[])}const C=(o,e,n)=>(o==null||o==="")&&e.push(n),z=o=>o.split(".").reduce((e,n)=>parseInt(n)>=0&&e,!0),T=(o,e,n)=>(o.split("@").filter(t=>t).length!==2||!z(o.split("@")[1]))&&e.push(n);async function _(o){const e=await Promise.all(Array.from(o).map(t=>U(t))),n=Array.from(o).map((t,i)=>{const r=e[i],s=[],d=[],c=v("module",r)[0],u=v("dependency",r)[0],m=v("description",r)[0],l=v("author",r)[0];C(c,s,"module"),C(m,s,"description"),C(l,s,"author"),T(c??"",d,`${c}(module)`),u&&u.split(",").filter(a=>a).map(a=>a.trim()).forEach(a=>{T(a,d,`${a}`)});const p=[];return s.length>0&&p.push(`Missing ${s.map(f=>`<span style="font-weight: bold;margin:0 5px">"${f}"</span>`).join(", ")}`),d.length>0&&p.push(`Version error ${d.map(f=>`<span style="font-weight: bold;margin:0 5px">"${f}"</span>`).join(", ")}`),p.length>0?`<div style="flex-direction: row;flex-wrap: wrap;margin-bottom: 10px">${t.name+" : "+p.join(" ")}</div>`:""}).filter(t=>t);return{contents:e,errors:n}}function H(o,e){const n=v("module",o)[0],t=v("dependency",o)[0],i=v("description",o)[0],r=v("author",o)[0],[s,d]=n.split("@");return{name:n,path:s,version:d,dependencies:(t??"").split(",").filter(u=>u).map(u=>u.trim()),missingDependencies:[],srcdoc:o,installedOn:new Date().getTime(),size:e.size,lastModified:e.lastModified,description:i,active:!0,deleted:!1,author:r}}async function j(o){const{contents:e,errors:n}=await _(o);if(n.length>0){await O(`<div style="font-family: Arial">
<div style="margin-bottom: 10px;font-weight: bold">Errors: </div>
${n.map(l=>l).join("")}
</div>`,"Ok");return}const t=Array.from(o).map((l,p)=>{const f=e[p];return H(f,l)}),i=await B(),r=await I(t,i),s=await S(t,i);if(await O(`<div style="font-family: Arial">
<div>The modules listed below will be installed. :</div>
<div style="display: flex;flex-direction: row;flex-wrap: wrap">${t.map(l=>`<div style="padding: 5px;border: 1px solid rgba(0,0,0,0.1);border-radius: 5px;color: white;background-color:darkslateblue;margin-right: 5px;margin-bottom: 5px">${l.name}</div>`).join("")}</div>
${r.length>0?(()=>`
    <div style="margin-top: 10px;">The dependent modules listed below are unavailable. :</div>
    <div style="display: flex;flex-direction: row;flex-wrap: wrap">${r.map(l=>`<div style="padding: 5px;border: 1px solid rgba(0,0,0,0.1);border-radius: 5px;color: white;background-color: darkred;margin-right: 5px;margin-bottom: 5px">${l}</div>`).join("")}</div>
    `)():""}
${s.length>0?(()=>`
    <div style="margin-top: 10px">The modules listed below will be upgraded. :</div>
    <div style="display: flex;flex-direction: row;flex-wrap: wrap">${s.map(l=>`<div style="padding: 5px;border: 1px solid rgba(0,0,0,0.1);border-radius: 5px;color: white;background-color: green;margin-right: 5px;margin-bottom: 5px">${l.from} âž¡ ${l.to}</div>`).join("")}</div>
    `)():""}


<div style="margin-top: 10px">Are you certain that you wish to continue?</div>
</div>`,"Yes","No")==="No")return;const{db:c,tx:u,store:m}=await x("readwrite");s.forEach(l=>{const p=i.find(f=>f.name===l.from);p.deleted=!0,p.active=!1,m.put(p)}),t.forEach(l=>{m.put(l)}),u.commit(),c.close()}async function D(o){const{db:e,tx:n,store:t}=await x("readwrite"),i=await M(t.get(o));i&&(i.deleted=!0,t.put(i),n.commit()),e.close()}function M(o){return new Promise(e=>{o.addEventListener("success",()=>{const n=o.result;e(n)}),o.addEventListener("error",n=>{e(!1)})})}async function N(o,e){const{db:n,tx:t,store:i}=await x("readwrite"),r=i.get(o),s=await M(r);if(s===!1){n.close();return}s.active=!e,i.put(s),t.commit(),n.close()}function v(o,e){const n=[];let t=0;do{const[i,r]=q(o,e,t);t=r,i&&n.push(i)}while(t>=0);return n}function q(o,e,n){const t=e.indexOf(`name="${o}"`,n);if(t<0)return["",-1];const i=e.substring(n,t).lastIndexOf("<")+n,r=e.substring(t,e.length).indexOf(">")+t;let s="";return i>=0&&r>i&&(s=e.substring(i,r).split('content="')[1].split('"')[0]),[s,r]}function U(o){return new Promise(e=>{const n=new FileReader;n.addEventListener("load",async t=>{var i,r;e((t==null||(i=t.target)===null||i===void 0||(r=i.result)===null||r===void 0?void 0:r.toString())||"")}),n.readAsText(o,"utf-8")})}const W="routing-registry",F="module",L="callerId";class V extends HTMLElement{connectedCallback(){this.log("connected"),window.addEventListener("hashchange",this.renderBasedOnHash),window.addEventListener("message",this.onMessage),(async()=>((await B()).forEach(n=>{this.routingRegistry[`/${n.path}/${n.version}`]=n}),this.renderBasedOnHash()))()}disconnectedCallback(){this.log("disconnected"),window.removeEventListener("hashchange",this.renderBasedOnHash),window.removeEventListener("message",this.onMessage)}constructor(){if(super(),h(this,"log",(...e)=>{this.debugMode&&console.log("[MicroEndRouter]",...e)}),h(this,"splitSegment",e=>e.split("/").filter(n=>n)),h(this,"render",(e,n,t)=>{const[i,r]=e.split("?"),s=this.extractParamsFromQuery(r);L in s&&(t=s[L],delete s[L]);const d=this.splitSegment(i);if(d.length===0)return;const{route:c,srcdoc:u,dependencies:m}=this.findMostMatchingRoute(d);if(u===""||u===void 0){this.log("Rendering ",e,n),this.log("were not successful in locating the appropriate module or its version. Please check the module dependencies as well its name");return}this.log("Handler match ",e,c);const l=this.extractParamsFromPath(c,d),p={...s,...l},f=m.reduce((y,g)=>{const[$,k]=g.split("@");return y[$]=k,y},{});if(this.shadowRoot===null){console.error("[MicroEndRouter]","ShadowRoot is null we cant renderPackageList this");return}let a=this.getFrame({route:c,type:n,caller:t});if(a===null){a=document.createElement("iframe"),a.setAttribute("data-route",c),a.setAttribute("data-type",n),a.setAttribute("data-caller",t),a.style.display=n==="service"?"none":"flex",a.style.border="none",a.style.flexDirection="column",a.style.height="100%",a.style.width="100%",a.style.backgroundColor="#FFF",this.debugMode||(a.style.position="absolute"),a.style.overflow="auto",a.style.zIndex="0";const y=J({params:p,isFocused:!0,dependencies:f,route:c,caller:t,type:n});let g=u.indexOf("<head>");g>0&&(g=g+6);const $=g>0?u.substring(0,g)+y+u.substring(g+1,u.length):y+u,k=this.getContainer();if(k&&(this.debugMode||(a.srcdoc=$),k.append(a),this.debugMode&&a.contentWindow)){const E=a.contentWindow.document;E.open(),E.write($),E.close()}}else a.contentWindow!==null&&(a.setAttribute("data-route",c),a.setAttribute("data-type",n),a.setAttribute("data-caller",t),a.style.zIndex="0",a.contentWindow.postMessage({intent:"paramschange",params:p,route:c,type:n,caller:t},"*"),a.contentWindow.postMessage({intent:"focuschange",value:!0},"*"));if(n==="service")return;let w=this.currentActiveFrame;w&&w.contentWindow&&(w.style.zIndex="-1",w.contentWindow.postMessage({intent:"focuschange",value:!1},"*")),this.currentActiveFrame=a}),h(this,"getContainer",()=>this.shadowRoot?this.shadowRoot.getElementById("container"):null),h(this,"getFrame",e=>{const n=this.getContainer();return n?e.type==="default"?n.querySelector(`[data-route="${e.route}"][data-type="${e.type}"]`):n.querySelector(`[data-route="${e.route}"][data-type="${e.type}"][data-caller="${e.caller}"]`):null}),h(this,"extractParamsFromPath",(e,n)=>{const t={};return this.splitSegment(e).forEach((i,r)=>{i.startsWith("$")&&(t[i.substring(1)]=n[r])}),t}),h(this,"findMostMatchingRoute",e=>{const[n,t]=e,i=Object.keys(this.routingRegistry).find(s=>{const[d,c]=s.split("/").filter(u=>u);return d===n&&c>=t});if(!i)throw new Error(`No available modules supporting ${n}/${t}`);const r=this.routingRegistry[i]||{srcdoc:"",dependencies:[]};return{route:i,srcdoc:r.srcdoc,dependencies:r.dependencies}}),h(this,"extractParamsFromQuery",e=>{const n={};return(e||"").split("&").filter(t=>t).forEach(t=>{const[i,r]=t.split("=");n[i]=r}),n}),h(this,"renderBasedOnHash",()=>{if(this.suppressRenderBasedOnHash){this.suppressRenderBasedOnHash=!1;return}this.render(window.location.hash.substring(1),"default","hashchange")}),h(this,"onMessage",e=>{if(e.data.intent==="navigateTo"){const n=e.data.params,t=e.data.originRoute,i=e.data.originCaller,r=e.data.originType,s=this.getFrame({route:t,caller:i,type:r});if(s===null){console.warn("WE COULDNT GET THE FRAME !!! this is wrong !!");return}const d=e.data.type,c=e.data.caller,u=Object.keys(n).reduce((p,f)=>(p.push(`${f}=${n[f]}`),p),[]).join("&"),m="/"+e.data.route.split("/").filter(p=>p).join("/");this.callerIdOrigin[c]=s;const l=m+(m.indexOf("?")>=0?"&":"?")+u;if(d==="default"){const p=l+(l.indexOf("?")>0?"&":"?")+`${L}=${c}`;window.location.hash=p}else(d==="modal"||d==="service")&&this.render(l,d,c)}if(e.data.intent==="navigateBack"){const{caller:n,type:t,route:i}=e.data,r=this.callerIdOrigin[n];if(r&&r.contentWindow&&(delete this.callerIdOrigin[n],r.contentWindow.postMessage(e.data)),t==="service"){const d=this.getFrame({route:i,type:t,caller:n});d&&d.contentWindow&&(d.contentWindow.postMessage({intent:"focuschange",value:!1},"*"),d.remove());return}r.contentWindow!==null&&(r.style.zIndex="0",r.contentWindow.postMessage({intent:"focuschange",value:!0},"*"));const s=this.getFrame({route:i,type:t,caller:n});s&&s.contentWindow&&(s.style.zIndex="-1",s.contentWindow.postMessage({intent:"focuschange",value:!1},"*"),t==="modal"&&s.remove()),this.currentActiveFrame=r,t==="default"&&(this.suppressRenderBasedOnHash=!0,window.history.back())}}),this.routingRegistry={},this.callerIdOrigin={},this.currentActiveFrame=null,this.style.height="100%",this.style.display="flex",this.style.flexDirection="column",this.style.boxSizing="border-box",this.suppressRenderBasedOnHash=!1,this.debugMode=this.getAttribute("debug")==="true",this.attachShadow({mode:"open"}),this.shadowRoot){const e={height:"100%","box-sizing":"border-box",overflow:"auto",display:"flex","flex-direction":"column",position:"relative"},n=Object.keys(e).map(t=>`${t}:${e[t]}`).join(";");this.shadowRoot.innerHTML='<div id="container" style="'+n+'"></div>'}}}function J(o){return Z.replace('"@context@"',JSON.stringify(o))}const Z=`
<script>
    const me = "@context@";
    const paramsChangeListener = [];
    const onFocusListeners = [];
    const onMountListeners = [];
    let onBlurListeners = [];
    let onUnMountListeners = [];

    window.microend = me;
    window.me = me;

    const log = (...args) => {
        console.log('[' + me.route + ']', ...args);
    }

    /**
     * @param event:MessageEvent
     */
    const messageListener = (event) => {
        if (event.data.intent === 'paramschange') {
            const old = me.params;
            const newValue = event.data.params;

            me.route = event.data.route;
            me.type = event.data.type;
            me.caller = event.data.caller;

            if (JSON.stringify(old) !== JSON.stringify(newValue)) {
                me.params = event.data.params;
                paramsChangeListener.forEach(callback => {
                    callback(newValue, old);
                })
            }
        }
        if (event.data.intent === 'focuschange') {
            const value = event.data.value;
            me.isFocused = value;
            if (value) {
                onBlurListeners = onFocusListeners.map(callback => callback());
            } else {
                onBlurListeners.forEach(callback => {
                    if (typeof callback === 'function') {
                        callback();
                    }
                });
                onBlurListeners = [];
            }
        }
    };

    window.addEventListener("load", () => {
        onUnMountListeners = onMountListeners.map(callback => callback());
    }, {once: true});

    window.addEventListener('unload', () => {
        onUnMountListeners.forEach(callback => {
            if (callback && typeof callback === 'function') {
                callback();
            }
        })
    }, {once: true})

    window.addEventListener('message', messageListener);
    /**
     *
     * @param callback
     * @returns {(function(): void)|*}
     */
    me.onMount = (callback) => {
        onMountListeners.push(callback);
        return () => {
            const index = onMountListeners.indexOf(callback);
            onMountListeners.splice(index, 1);
        }
    }
    /**
     *
     * @param callback : function(): function():void | void
     * @returns {(function(): void)|*}
     */
    me.onParamsChange = (callback) => {
        paramsChangeListener.push(callback);
        return () => {
            const index = paramsChangeListener.indexOf(callback);
            paramsChangeListener.splice(index, 1);
        }
    }

    /**
     * @param callback : function(): function():void
     * @returns {(function(): void)|*}
     */
    me.onFocusChange = (callback) => {
        onFocusListeners.push(callback);
        return () => {
            const index = onFocusListeners.indexOf(callback);
            onFocusListeners.splice(index, 1);
        }
    }

    /**
     * navigateTo ada beberapa behaviour
     * <li> navigateTo default
     *     - buka function baru lewat browser hash
     *     - ini mengakibatkan window history ke update
     *     - ini bakalan reuse existing frame yang sudah kebuka
     *     - ketika frame selesai dipanggil dia ga bakalan di destroy
     *
     * <li> navigateTo modal
     *     * buka function baru tanpa lewat browser hash
     *     - tidak menyebabkan window history ke update
     *     - bakalan buka frame yang baru
     *     - ketika frame selesai di panggil dia bakalan di destroy
     *
     * <li> navigateTo service
     *    - buka function baru tanpa lewat browser hash
     *    - tidak menampilkan frame baru
     *    - ketika selesai frame akan di destroy
     *
     * @param route : string
     * @param params : any
     * @param type : "default"|"modal"|"service"
     * @returns {Promise<any>}
     */
    me.navigateTo = (route, params, type = 'default') => {

        return new Promise((resolve) => {
            params = params || {};
            const caller = (Math.random() * 1000000000 + new Date().getTime()).toFixed(0);
            if (window.top === null) {
                return;
            }
            const dependencyVersion = me.dependencies[route];

            if(dependencyVersion === undefined){
                const [path,version] = me.route.split('/').filter(s => s);
                throw new Error('Please contact the author '+path+'@'+version+' to fix this module, as the author forgot to add a dependency. '+route+'@version');
            }
            route = '/' + route + '/' + dependencyVersion;
            const navigateTo = {
                intent: 'navigateTo',
                params,
                originRoute: me.route,
                originCaller: me.caller,
                originType: me.type,
                route,
                caller,
                type
            }
            window.top.postMessage(navigateTo);
            const listener = (event) => {
                if (event.data.intent === 'navigateBack' && event.data.caller === caller) {
                    const value = event.data.value;
                    window.removeEventListener('message', listener);
                    resolve(value);
                }
            }
            window.addEventListener('message', listener);
        })
    }

    /**
     *
     * @param value
     */
    me.navigateBack = (value) => {
        if (window.top === null) {
            return;
        }
        const navigateBack = {
            intent: 'navigateBack',
            value,
            caller: me.caller,
            type: me.type,
            route: me.route
        }
        window.top.postMessage(navigateBack);
    }

    me.createService = (handler) => {
        const deregister = me.onMount(() => {
            const __handler = handler;
            let action = 'action' in me.params ? me.params.action : '';
            // later on we need to be able to send json for service !!!!
            let args = 'args' in me.params ? me.params.args : '';
            if (me.type === 'service' && action && args) {
                const arrayArgs = JSON.parse(decodeURI(args));
                if (__handler && typeof __handler === 'object' && action in __handler && typeof __handler[action] === 'function') {
                    // this is to ensure we are calling this one time
                    deregister();
                    const promise = Promise.resolve(__handler[action].apply(null, arrayArgs));
                    promise.then(result => {
                        me.navigateBack({
                            success: true,
                            result
                        })
                    }).catch(err => {
                        me.navigateBack({
                            success: false,
                            message: err.message
                        });
                    })
                }
            }
        });
        return handler;
    }

    me.connectService = (module) => {
        const proxy = new Proxy({}, {
            get(_, action) {
                return async (...args) => {
                    const response = await me.navigateTo(module, {
                        action,
                        args: encodeURI(JSON.stringify(args))
                    }, "service");
                    if(response.success){
                        return response.result;
                    }
                    throw new Error(response.message);
                }
            }
        });
        return proxy;
    }
    me.createNavigation = (handler) => {
        const navigation = Object.keys(handler).reduce((navigation,key) => {
            navigation[key] = {
                params : {},
                navigateBack : (param) => me.navigateBack({success:true,result:param})
            }
            return navigation;
        },{current:''});

        const paramsChangeHandler = () => {
            const __handler = handler;
            
            let action = 'action' in me.params ? me.params.action : '';
            // later on we need to be able to send json for service !!!!
            let args = 'args' in me.params ? me.params.args : '';
            let callbackBeforeExit = () => {};
            if (['default','modal'].includes(me.type) && action && args) {
                const arrayArgs = JSON.parse(decodeURI(args));
                if (__handler && typeof __handler === 'object' && action in __handler && typeof __handler[action] === 'function') {
                    // this is to ensure we are calling this one time
                    try{
                        navigation.current = action;
                        navigation[action].params = arrayArgs.length > 0 ? arrayArgs[0] : {};
                        callbackBeforeExit = __handler[action].apply(null, arrayArgs)
                    }catch (err){
                        me.navigateBack({
                            success: false,
                            message: err.message
                        });
                    }
                }
            }
            // un-mounting
            return callbackBeforeExit;
        }
        me.onMount(paramsChangeHandler);
        me.onParamsChange(paramsChangeHandler);
        return navigation;
    }

    me.connectNavigation = (module) => {
        const proxy = new Proxy({}, {
            get(_, action) {
                return async (...args) => {
                    const type = args[args.length - 1];
                    args = args.splice(0,args.length - 1);
                    
                    const response = await me.navigateTo(module, {
                        action,
                        args: encodeURI(JSON.stringify(args))
                    }, type);
                    if(response.success){
                        return response.result;
                    }
                    throw new Error(response.message);
                }
            }
        });
        return proxy;
    }
<\/script>
`;class Y extends HTMLElement{constructor(){if(super(),h(this,"onChange",async n=>{if(n===null||n.target==null){console.warn("[MicroEndModuleLoader]","Event on onChange parameter is null, exiting function");return}const t=n.target;if(t.files===null){console.warn("[MicroEndModuleLoader]","Files from HTMLInputElement is null, exiting function");return}const i=t.files;await j(i),this.dispatchEvent(new CustomEvent("change"))}),this.attachShadow({mode:"open"}),this.shadowRoot===null){console.warn("[MicroEndModuleLoader]","shadowRoot is null, exiting function");return}this.style.display="flex",this.style.flexDirection="column",this.style.fontFamily="arial",this.shadowRoot.innerHTML=`<label style="display: flex;flex-direction: column;padding:7px 10px">
<div style="display: flex;flex-direction: row;align-items: center">
<svg xmlns="http://www.w3.org/2000/svg" class="ionicon" width="26" height="26" viewBox="0 0 512 512"><title>Add</title><path d="M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32"/><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M256 176v160M336 256H176"/></svg>
</div>
<input type="file" multiple accept="text/html" style="display: none">
</label>`;const e=this.shadowRoot.querySelector("input");if(e===null){console.warn("[MicroEndModuleLoader]","Could not find input type file, exiting function");return}e.addEventListener("change",this.onChange)}}async function K(o,e){return new Promise(n=>{(async()=>{const t=await R(e);if(t===!1){alert("Module does not exit "+e);return}o.setFullScreen(!0);const i="width: 150px;font-size: 12px;font-weight: bold;flex-shrink:0",r="display: flex;flex-direction: row;border-bottom: 1px solid rgba(0,0,0,0.05);padding: 10px";o.innerHTML=`<div style="display:flex;flex-direction:column ;width:100%;max-width: 800px">
        <div style="display: flex;flex-direction: row;align-items: center">
            <button style="border: 1px solid rgba(0,0,0,0);padding:5px;background-color: unset" data-exit-button="true;">
     <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" class="ionicon" viewBox="0 0 512 512"><title>Arrow Back</title><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="48" d="M244 400L100 256l144-144M120 256h292"/></svg>    
</button>
            <div style="flex-grow: 1;margin-left: 10px">${e}</div>
        </div>
        <div style="${r}">
            <div style="${i}">Description</div>
            <div >${t.description}</div>
        </div>
        <div style="${r}">
            <div style="${i}">Path</div>
            <div>${t.path}</div>
        </div>
        <div style="${r}">
            <div style="${i}">Version</div>
            <div>${t.version}</div>
        </div>
        <div style="${r}">
            <div style="${i}">Is Active</div>
            <div>${t.active}</div>
        </div>
        <div style="${r};align-items: center">
            <div style="${i}">Dependency</div>
            <div style="display: flex;flex-direction: row;flex-wrap: wrap">${t.dependencies.map(s=>`<div style="border: 1px solid rgba(0,0,0,0.1);padding:5px;font-weight: bold;font-size: 12px;border-radius: 3px;background-color: white;margin-right: 5px">${s}</div>`).join("")}</div>
        </div>
        <div style="${r}">
            <div style="${i}">Installed On</div>
            <div style="font-size: 13px">${P(t.installedOn)}</div>
        </div>
        <div style="${r}">
            <div style="${i}">Last modified on</div>
            <div style="font-size: 13px">${P(t.lastModified)}</div>
        </div>
        <div style="${r}">
            <div style="${i}">Size</div>
            <div>${G(t.size)}</div>
        </div>
        <div style="${r}">
            <div style="${i}">Navigate</div>
            <a href="#/${t.path}/${t.version}" data-link="true">/${t.path}/${t.version}</a>
        </div>
    </div>`,o.querySelector("[data-exit-button]").addEventListener("click",()=>{n(!0)}),o.querySelectorAll("[data-link]").forEach(s=>s.addEventListener("click",()=>{A(o)}))})()})}function P(o){const e=new Date(o),n=t=>t<10?"0"+t:t.toString();return`${n(e.getDate())}-${Q[e.getMonth()]}-${e.getFullYear()} ${n(e.getHours())}:${n(e.getMinutes())}`}function G(o){const e=Math.ceil(o/1e3);return e<500?`${e}Kb`:`${(e/1e3).toFixed(1)}Mb`}const Q=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"];async function b(o){o.setFullScreen(!0);const n=(await B()).map(i=>`<div style="display: flex;flex-direction:column;font-family: Arial;border:1px solid rgba(0,0,0,0.1);padding:10px;box-sizing: border-box;width: 300px;height:130px;border-radius: 3px;background-color: white;margin:5px">
    <div style="display: flex;flex-direction: row;margin-bottom: 10px;height: 100%">
        <div style="font-size: 18px;margin-right: 5px;box-sizing: border-box">
        </div>
        <div style="display: flex;flex-direction: column;box-sizing: border-box;">
            <div style="display: flex;flex-direction: row;align-items: flex-end;box-sizing: border-box;margin-bottom: 5px">
                <div style="font-size: 16px;margin-right: 5px;font-weight: bold">${i.path}</div>
                <div style="font-size: 12px;margin-bottom: 1px">${i.version}</div>
            </div>
            <div style="height:100%;font-size: 13px">
                ${i.description}
            </div>
        </div>
    </div>
    <div style="display: flex;flex-direction: row">
        <button data-button-details="true" data-module-name="${i.name}" style="margin-right: 10px;background-color: white;border:1px solid rgba(0,0,0,0);border-radius: 3px">
            <svg xmlns="http://www.w3.org/2000/svg" class="ionicon" width="16" height="16" viewBox="0 0 512 512"><title>Folder Open</title><path d="M64 192v-72a40 40 0 0140-40h75.89a40 40 0 0122.19 6.72l27.84 18.56a40 40 0 0022.19 6.72H408a40 40 0 0140 40v40" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"/><path d="M479.9 226.55L463.68 392a40 40 0 01-39.93 40H88.25a40 40 0 01-39.93-40L32.1 226.55A32 32 0 0164 192h384.1a32 32 0 0131.8 34.55z" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"/></svg>
            <div>Details</div>
        </button>
        <button data-button-remove="true" data-module-name="${i.name}" style="background-color: white;border:1px solid rgba(0,0,0,0);border-radius: 3px">
            <svg xmlns="http://www.w3.org/2000/svg" class="ionicon" width="16" height="16" viewBox="0 0 512 512"><title>Trash</title><path d="M112 112l20 320c.95 18.49 14.4 32 32 32h184c17.67 0 30.87-13.51 32-32l20-320" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"/><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32" d="M80 112h352"/><path d="M192 112V72h0a23.93 23.93 0 0124-24h80a23.93 23.93 0 0124 24h0v40M256 176v224M184 176l8 224M328 176l-8 224" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"/></svg>
            <div>Remove</div>
        </button>
        <div style="flex-grow: 1"></div>
        <label style="display: flex;flex-direction: row;align-items: center">
            <div>Active</div>
            <input type="checkbox" ${i.active?"checked":""} data-module-name="${i.name}"/>
        </label>
    </div>
</div>`),t='<div style="margin-top:50px;font-size: 18px">This application does not currently have any modules installed in it at this time.</div>';o.innerHTML=`<div style="display:flex;flex-direction:column ;max-width: 1300px;width:100%">
<div style="display: flex;flex-direction: row;align-items: center">
  
    <button style="border: 1px solid rgba(0,0,0,0);border-radius: 2px;background-color: unset" data-exit-button="true">
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" class="ionicon" viewBox="0 0 512 512"><title>Arrow Back</title><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="48" d="M244 400L100 256l144-144M120 256h292"/></svg>
    </button>
    <div style="flex-grow: 1;align-items: center;font-size: 14px">Installed Modules</div>
    <microend-moduleloader></microend-moduleloader>
</div>
<div style="display: flex;box-sizing: border-box;flex-direction: row;flex-wrap: wrap;justify-content: center;">${n.length>0?n.join(""):t}</div>
</div>`,o.querySelectorAll("[data-button-details]").forEach(i=>{i.addEventListener("click",async r=>{if(r.currentTarget&&r.currentTarget instanceof HTMLButtonElement){const s=r.currentTarget.getAttribute("data-module-name");s&&(await K(o,s),await b(o))}})}),o.querySelectorAll("[data-button-remove]").forEach(i=>{i.addEventListener("click",r=>{if(r.currentTarget&&r.currentTarget instanceof HTMLButtonElement){const s=r.currentTarget.getAttribute("data-module-name"),d=prompt(`Please type "${s}" to remove the module`);s&&d===s&&D(s).then(()=>{b(o)})}})}),o.querySelector("microend-moduleloader").addEventListener("change",i=>{b(o)}),o.querySelectorAll('[type="checkbox"]').forEach(i=>{i.addEventListener("change",async r=>{const s=r.target.getAttribute("data-module-name");await N(s,!r.target.checked),b(o).then()})}),o.querySelector("[data-exit-button]").addEventListener("click",()=>{A(o)})}function A(o){o.setFullScreen(!1),o.innerHTML=`<div data-button-package="true" >
<svg xmlns="http://www.w3.org/2000/svg"  xmlns:xlink="http://www.w3.org/1999/xlink" width="32" zoomAndPan="magnify" viewBox="0 0 375 374.999991" height="32" preserveAspectRatio="xMidYMid meet" version="1.0"><defs><clipPath id="914761307b"><path d="M 33 15 L 343.125 15 L 343.125 354 L 33 354 Z M 33 15 " clip-rule="nonzero"/></clipPath></defs><g clip-path="url(#914761307b)"><path fill="#9f2d2d" d="M 64.996094 96.972656 L 145.175781 56.617188 C 145.175781 56.617188 171.277344 41.71875 177.1875 30.847656 C 177.1875 30.847656 199.253906 55.996094 163.824219 77.722656 L 72.460938 123.042969 C 72.460938 123.042969 46.972656 136.703125 50.707031 163.398438 C 50.707031 163.398438 9.683594 128.636719 64.996094 96.972656 Z M 50.707031 223 C 46.972656 196.308594 72.460938 182.648438 72.460938 182.648438 L 163.824219 137.328125 C 199.246094 115.597656 177.1875 90.453125 177.1875 90.453125 C 171.285156 101.3125 145.175781 116.21875 145.175781 116.21875 L 64.996094 156.566406 C 9.683594 188.234375 50.707031 223 50.707031 223 Z M 69.96875 244.730469 L 161.332031 199.414062 C 196.753906 177.683594 174.695312 152.539062 174.695312 152.539062 C 168.792969 163.398438 142.683594 178.304688 142.683594 178.304688 L 62.511719 218.652344 C 7.195312 250.316406 48.21875 285.082031 48.21875 285.082031 C 44.488281 258.386719 69.96875 244.730469 69.96875 244.730469 Z M 253.335938 90.804688 L 247.605469 192.539062 C 248.996094 234.042969 281.792969 227.316406 281.792969 227.316406 C 275.25 216.820312 275.1875 186.78125 275.1875 186.78125 L 279.714844 97.21875 C 279.507812 33.539062 228.972656 51.96875 228.972656 51.96875 C 254.042969 61.933594 253.335938 90.804688 253.335938 90.804688 Z M 199.890625 57.28125 L 194.160156 159.015625 C 195.550781 200.519531 228.34375 193.792969 228.34375 193.792969 C 221.804688 183.296875 221.742188 153.257812 221.742188 153.257812 L 226.265625 63.695312 C 226.058594 0.015625 175.527344 18.445312 175.527344 18.445312 C 200.597656 28.410156 199.890625 57.28125 199.890625 57.28125 Z M 305.546875 121.226562 L 299.816406 222.960938 C 301.207031 264.464844 334 257.738281 334 257.738281 C 327.457031 247.242188 327.398438 217.203125 327.398438 217.203125 L 331.921875 127.640625 C 331.714844 63.957031 281.183594 82.390625 281.183594 82.390625 C 306.25 92.351562 305.546875 121.226562 305.546875 121.226562 Z M 297.171875 264 L 212.066406 207.8125 C 175.472656 188.117188 164.769531 219.792969 164.769531 219.792969 C 177.144531 219.441406 203.148438 234.511719 203.148438 234.511719 L 278.332031 283.53125 C 333.515625 315.429688 343.023438 262.535156 343.023438 262.535156 C 321.785156 279.160156 297.171875 264 297.171875 264 Z M 241.230469 293.796875 L 156.125 237.609375 C 119.53125 217.914062 108.832031 249.59375 108.832031 249.59375 C 121.207031 249.238281 147.210938 264.3125 147.210938 264.3125 L 222.390625 313.324219 C 277.578125 345.222656 287.085938 292.324219 287.085938 292.324219 C 265.84375 308.960938 241.230469 293.796875 241.230469 293.796875 Z M 189.023438 323.597656 L 103.917969 267.410156 C 67.324219 247.710938 56.621094 279.390625 56.621094 279.390625 C 69 279.039062 95.003906 294.109375 95.003906 294.109375 L 170.183594 343.121094 C 225.367188 375.019531 234.878906 322.125 234.878906 322.125 C 213.636719 338.757812 189.023438 323.597656 189.023438 323.597656 Z M 189.023438 323.597656 " fill-opacity="1" fill-rule="nonzero"/></g></svg>
</div>`,o.querySelector("[data-button-package]").addEventListener("click",()=>{b(o).then()})}class X extends HTMLElement{connectedCallback(){}disconnectedCallback(){}constructor(){super(),h(this,"log",(...e)=>{this.debugMode&&console.log("[MicroEndPackageManager]",...e)}),h(this,"setFullScreen",e=>{this.style.right=e?"unset":"30px",this.style.top=e?"0px":"unset",this.style.bottom=e?"unset":"30px",this.style.left=e?"0px":"unset",this.style.width=e?"100%":"unset",this.style.padding=e?"10px":"unset",this.style.minHeight=e?"100%":"unset",this.style.overflow="unset",this.style.backdropFilter=e?"blur(30px)":"unset",this.style.webkitBackdropFilter=e?"blur(30px)":"unset"}),this.style.boxSizing="border-box",this.style.display="flex",this.style.flexDirection="column",this.style.alignItems="center",this.style.fontFamily="arial",this.style.position="fixed",this.debugMode=this.getAttribute("debug")==="true",A(this)}}customElements.define("microend-moduleloader",Y);customElements.define("microend-router",V);customElements.define("microend-packagemanager",X);window.addEventListener("beforeinstallprompt",async o=>{if(o.preventDefault(),await ee()==="ok"){o.prompt();const{outcome:n}=await o.userChoice;n==="accepted"?console.log("User accepted the install prompt."):n==="dismissed"&&console.log("User dismissed the install prompt")}});function ee(){return new Promise(o=>{const e=document.createElement("div");e.style.position="fixed",e.style.bottom="0",e.style.width="100%",e.innerHTML=`<div style="padding:20px;border-top: 1px solid rgba(0,0,0,0.1);border-radius: 5px;z-index: 1;background-color: #f2f2f2;box-shadow: 0 -5px 5px -3px rgba(0,0,0,0.1)">
    <p>By installing Microend on your device, you can improve the overall experience you have with it. To continue with the installation of microend into your device, click the "Install Microend" button.</p>
    <div style="display: flex;flex-direction: row">
        <button id="installButton" style="padding: 10px;border-radius: 5px;background-color: #FFFFFF;border: 1px solid rgba(0,0,0,0.1)">Install Microend</button>
        <button style="margin-left:10px;padding: 10px;border-radius: 5px;background-color: #FFFFFF;border: 1px solid rgba(0,0,0,0.1)" id="noButton" >No, maybe next time</button>
    </div>
</div>`,document.body.append(e);const n=document.getElementById("installButton"),t=document.getElementById("noButton");n.addEventListener("click",()=>{o("ok"),e.remove()}),t.addEventListener("click",()=>{o("no"),e.remove()})})}

</script>
</head>
<body>
<section class="banner">
    <article>
        <div class="banner-title">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" zoomAndPan="magnify" viewBox="0 0 375 374.999991"
                 height="32" preserveAspectRatio="xMidYMid meet" version="1.0">
                <defs>
                    <clipPath id="914761307b">
                        <path d="M 33 15 L 343.125 15 L 343.125 354 L 33 354 Z M 33 15 " clip-rule="nonzero"/>
                    </clipPath>
                </defs>
                <g clip-path="url(#914761307b)">
                    <path fill="#FFFFFF"
                          d="M 64.996094 96.972656 L 145.175781 56.617188 C 145.175781 56.617188 171.277344 41.71875 177.1875 30.847656 C 177.1875 30.847656 199.253906 55.996094 163.824219 77.722656 L 72.460938 123.042969 C 72.460938 123.042969 46.972656 136.703125 50.707031 163.398438 C 50.707031 163.398438 9.683594 128.636719 64.996094 96.972656 Z M 50.707031 223 C 46.972656 196.308594 72.460938 182.648438 72.460938 182.648438 L 163.824219 137.328125 C 199.246094 115.597656 177.1875 90.453125 177.1875 90.453125 C 171.285156 101.3125 145.175781 116.21875 145.175781 116.21875 L 64.996094 156.566406 C 9.683594 188.234375 50.707031 223 50.707031 223 Z M 69.96875 244.730469 L 161.332031 199.414062 C 196.753906 177.683594 174.695312 152.539062 174.695312 152.539062 C 168.792969 163.398438 142.683594 178.304688 142.683594 178.304688 L 62.511719 218.652344 C 7.195312 250.316406 48.21875 285.082031 48.21875 285.082031 C 44.488281 258.386719 69.96875 244.730469 69.96875 244.730469 Z M 253.335938 90.804688 L 247.605469 192.539062 C 248.996094 234.042969 281.792969 227.316406 281.792969 227.316406 C 275.25 216.820312 275.1875 186.78125 275.1875 186.78125 L 279.714844 97.21875 C 279.507812 33.539062 228.972656 51.96875 228.972656 51.96875 C 254.042969 61.933594 253.335938 90.804688 253.335938 90.804688 Z M 199.890625 57.28125 L 194.160156 159.015625 C 195.550781 200.519531 228.34375 193.792969 228.34375 193.792969 C 221.804688 183.296875 221.742188 153.257812 221.742188 153.257812 L 226.265625 63.695312 C 226.058594 0.015625 175.527344 18.445312 175.527344 18.445312 C 200.597656 28.410156 199.890625 57.28125 199.890625 57.28125 Z M 305.546875 121.226562 L 299.816406 222.960938 C 301.207031 264.464844 334 257.738281 334 257.738281 C 327.457031 247.242188 327.398438 217.203125 327.398438 217.203125 L 331.921875 127.640625 C 331.714844 63.957031 281.183594 82.390625 281.183594 82.390625 C 306.25 92.351562 305.546875 121.226562 305.546875 121.226562 Z M 297.171875 264 L 212.066406 207.8125 C 175.472656 188.117188 164.769531 219.792969 164.769531 219.792969 C 177.144531 219.441406 203.148438 234.511719 203.148438 234.511719 L 278.332031 283.53125 C 333.515625 315.429688 343.023438 262.535156 343.023438 262.535156 C 321.785156 279.160156 297.171875 264 297.171875 264 Z M 241.230469 293.796875 L 156.125 237.609375 C 119.53125 217.914062 108.832031 249.59375 108.832031 249.59375 C 121.207031 249.238281 147.210938 264.3125 147.210938 264.3125 L 222.390625 313.324219 C 277.578125 345.222656 287.085938 292.324219 287.085938 292.324219 C 265.84375 308.960938 241.230469 293.796875 241.230469 293.796875 Z M 189.023438 323.597656 L 103.917969 267.410156 C 67.324219 247.710938 56.621094 279.390625 56.621094 279.390625 C 69 279.039062 95.003906 294.109375 95.003906 294.109375 L 170.183594 343.121094 C 225.367188 375.019531 234.878906 322.125 234.878906 322.125 C 213.636719 338.757812 189.023438 323.597656 189.023438 323.597656 Z M 189.023438 323.597656 "
                          fill-opacity="1" fill-rule="nonzero"/>
                </g>
            </svg>
            <h1 style="margin-left: 20px">MicroEnd</h1>
        </div>
        <p>A MicroEnd is a web application composed of small modules that are hosted on the end-user's device.</p>
    </article>
</section>
<article id="article">
    <p>The word MicroEnd was derived from the concept of installing a web application feature offline using modules
        hosted on end-user's device <b>(Micro module at End user)</b>. These micro modules can communicate with one
        another. A MicroEnd module is an HTML page that
        can be developed by any javascript framework. All assets and javascript code are then bundled into a single HTML
        page. This makes it simple to distribute MicroEnd modules offline.</p>
    <p>MicroEnd WebApp can function even when it is not connected to the internet/server. The MicroEnd router
        web component facilitates lifecycle management as well as communication between modules. Modules may be
        constructed
        using any JavaScript framework of the developer's preference.
    </p>
    <h4>Modular</h4>
    <p>Click on <img src="/microend-logo.svg" width="32" height="32"> to view the list of available
        modules for installation. These modules were developed independently using various JavaScript frameworks,
        including React, Svelte, Vue, and Angular; however, they are still able to communicate with one another. These
        modules can also be downloaded and installed into MicroEnd WebApp in an offline mode, which is one of
        the interesting features that the platform offers. Because of this, the WebApp can be updated with
        greater flexibility, even when there is no internet or network connection.
    </p>
    <h4>How it works</h4>
    <p><code>microend-router</code> is a web component that is considered to be the core of a MicroEnd WebApp. The
        <code>microend-router</code> serves as a routing engine that renders pages based on the routing information user
        provided
        in the url address bar or when a module uses the <code>navigateTo</code> function to programmatically call
        another module. a
        <code>microend-router</code> web component, serves to navigate between modules, invoke the module's lifecycle,
        and
        facilitate communication between modules. In addition to that, the web component known as
        <code>microend-module-loader</code> plays an important part. <code>microend-module-loader</code> is a web
        component that installs
        Module and then stored in the IndexDB database.
    </p>
    <h4>Use cases</h4>
    <p>MicroEnds are not designed to be used on websites that benefit from having search engines crawl through their
        content. The MicroEnd platform is primarily designed for the construction of large, modular, and offline-capable
        software applications. The following is an illustration of a use case that can be implemented with a
        microend:</p>
    <h5>ERP Software</h5>
    <img src="/images/1.png"/>
    <p>
        ERP software typically requires a large number of developers, each of whom brings a unique skill set, as
        well as a significant amount of time to develop the application. The issue is that the front-end
        framework technology is constantly evolving to keep up with changing times. This is the source of the
        problem. Developing applications on a modular basis makes it simpler to incorporate new technologies at
        a later date without necessitating the redevelopment of previously developed modules.
    </p>

    <h5>Humanitarian Aid</h5>
    <img src="/images/3.png"/>
    <p>You are part of a humanitarian organization that provides assistance to people who have been
        affected by natural disasters. The inability to connect to the internet, which forces you to carry out
        your work without it, is a common obstacle. Thankfully, your app has the ability to work offline first.
        You should, however, be able to obtain the most recent features after working for some time, as well as
        any updates that have not yet been installed in your application. Since microend modules can be
        installed offline, the logistics team that regularly visits you can assist you at your location and give
        you modules that you haven't already installed on your device. This is possible because microend modules
        can be installed offline.
    </p>
    <h5>Researcher</h5>
    <p>If you are conducting research in the dense jungles of Indonesia, you may need to continually transmit your data
        to the central database. However, staying in the forest for an extended period of time requires that you get the
        most recent update from the central base. Because of its embrace of modular offline update, MicroEnd offers the
        ideal environment in which to construct an application.
    </p>
    <h5>Defence</h5>
    <img src="/images/2.png"/>
    <p>If you work on the front lines of the defence, it's possible that you won't be able to communicate online with
        the command center for a variety of reasons, despite the fact that this scenario is extremely unlikely to play
        out. This will provide a wider variety of options for sending data to your command base by providing an offline
        encryption feature that is both up to date and modular in its design.</p>

</article>

<div style="display: flex;flex-direction: column;height: 100%;position: absolute;top: 0;left: 0;width: 100%">
    <microend-router debug="false"></microend-router>
    <microend-packagemanager></microend-packagemanager>
</div>

</body>
<script>
    if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register("/serviceworker.js");
    }

    function showArticle() {
        const routerActive = (window.location.hash || '').length > 3;
        const article = document.getElementById('article');
        article.style.display = routerActive ? 'none' : 'flex';
    }

    showArticle();
    addEventListener('hashchange', () => {
        showArticle();
    })
</script>
</html>
